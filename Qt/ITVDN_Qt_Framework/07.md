# Язык описания графического интерфейса QML

## Обзор, цель и назначение урока

Ознакомится с языком описания графического интерфейса QML. Рассмотреть основные концепции и инструменты QML. Описать правила описания графического интерфейса и добавления логики с использованием языка JavaScript

## Изучив материал данного занятия, учащийся сможет

+ Понять основные концепции языка QML.
+ Научится быстро и легко создавать графический интерфейс с использованием возможностей QML.
+ Эффективно и правильно применять язык JavaScript в QML для добавления логики в графический интерфейс.

## Содержание урока

+ [1. Что такое QML?](#1-что-такое-qml)
+ [2. Основные концепции QML](#2-основные-концепции-qml)
  + [Компоненты.](#компоненты)
  + [Связывания.](#связывания)
  + [Подключения.](#подключения)
+ [3. Использование JavaScript в QML](#3-использование-javascript-в-qml)
+ [Выводы](#выводы)
+ [Резюме](#резюме)
+ [Закрепление материала](#закрепление-материала)
+ [Самостоятельная деятельность учащегося](#самостоятельная-деятельность-учащегося)

## 1. Что такое QML?

+ Декларативный язык программирования, предназначенный для описания графического интерфейса.
+ Дополнительная логика может быть описана с помощью JavaScript.
+ Библиотека Qt Quick содержит большой набор логических и визуальных компонентов QML.
+ Есть возможность взаимодействия с С++ объектами Qt с помощью сигналов, слотов, свойств и методов, помеченных как Q_INVOKABLE. Для этого объект или класс С++ должен быть зарегистрирован в QML.

---
[Содержание урока](#содержание-урока)

## 2. Основные концепции QML

+ Компоненты.
+ Связывания.
+ Подключения.

### Компоненты

[Component QML Type](https://doc.qt.io/qt-6/qml-qtqml-component.html)

+ Компоненты - строительные блоки приложений на языке QML.
+ Они могут быть как исключительно логическими так и визуальными.
+ Компоненты имеют свойства которые могут влиять на поведение компонента.
+ В компонент можно добавить новые свойства и сигналы или сделать ссылки на существующие.
+ Компоненты могут быть импортированы в другие файлы.
+ Компоненты имеют свойство id, которое может быть использовано для посылания на конкретный компонент из QML.
+ Свойство `objectName`, может быть использовано для нахождения QML объекта из С++ кода.

### Связывания

[Binding QML Type](https://doc.qt.io/qt-6/qml-qtqml-binding.html)

+ Связывание позволяет "связать" свойство компонента с некоторым другим свойством или выражением. Выражение может использовать условные операторы или быть функцией.
+ Связывание осуществляется при помощи оператора `:` или компонента `Binding`.
+ Свойство по левую сторону оператора : будет обновляться каждый раз при изменении свойства или выражения по правую сторону оператора `:`

### Подключения

[Connections QML Type](https://doc.qt.io/qt-6/qml-qtqml-connections.html)

+ Подключения позволяют подключать сигналы к слотам, выражениям или функциям.
+ Подключения осуществляются при помощи оператора : или компонента Connections.
+ Список аргументов явно не описывается при создании подключения но все аргументы доступны в пространстве обработчика по их именам.

---
[Содержание урока](#содержание-урока)

## 3. Использование JavaScript в QML

+ JavaScript имеет доступ ко всем компонентам и их свойствам в приложении.
+ В QML можно использовать JavaScript код в качестве выражений к которым привязываются свойства или в качестве обработчиков сигналов в подключениях.
+ В QML коде можно создавать JavaScript функции для дальнейшего их использования.
+ JavaScript код можно перенести в отдельный файл и импортировать в QML.
+ Не следует злоупотреблять JavaScript если необходимо обеспечить высокую производительность приложения.

---
[Содержание урока](#содержание-урока)

## Выводы

+ QML предоставляет удобный синтаксис для описания графического интерфейса и логики его работы с использованием компонентов и языка программирования JavaScript.
+ QML также работает с концепцией сигналов и слотов, которая используется в С++ Qt Widgets.
+ Концепция связывания позволяет удобно описать зависимость свойств объектов друг от друга.

---
[Содержание урока](#содержание-урока)

## Резюме

+ QML – декларативный язык программирования, предназначенный для описания графического интерфейса с возможность добавления логики с использованием JavaScript.
+ Основными концепциями QML являются: компоненты, связывания и подключения.
+ Компоненты - строительные блоки языка QML. Они могут иметь набор свойств, которые тем или иным образов влияют на логику работы или внешний вид компонента.
+ Связывания позволяют привязать значение какого-то свойства к другому свойству (или выражению), при изменении которого также изменится свойство, к которому были осуществлена привязка.
+ Подключения позволяют использовать концепцию сигналов и слотов Qt в QML.

---
[Содержание урока](#содержание-урока)

## Закрепление материала

+ Создать проект Qt Quick Application.  
+ Создать интерфейс с 3 черными квадратами.
+ Сделать так чтобы при клике на них их цвет переключался с черного на какой-то другой и обратно.
+ Добавить на каждый квадрат компонент текстовой метки, который должен отображать текущий цвет (можно в формате hex).

---
[Содержание урока](#содержание-урока)

## Дополнительное задание

Ознакомится с компонентом таймера в QML и сделать приложение которое симулирует поведение светофора и по очереди “включает” и “выключает” каждый из квадратов.

---
[Содержание урока](#содержание-урока)

## Самостоятельная деятельность учащегося

### Задание 1

Создать приложение, которое будет содержать несколько прямоугольников которые расположены вертикально друг за другом.

### Задание 2

При нажатии левой кнопкой мышки их длинна должны постепенно увеличиваться, а при нажатии правой - уменьшаться.

### Задание 3

Ограничить максимальную длину прямоугольников так, чтобы они не выходили за область окна. И ограничить минимальную длинна каким-то небольшим значением.

---
[Содержание урока](#содержание-урока)
